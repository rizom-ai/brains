id: tool-invocation-search
name: System Search Invocation
description: Verifies that the agent correctly uses system_search with appropriate query
type: tool_invocation
tags:
  - core
  - search

turns:
  - userMessage: "Search for blog posts about programming"

successCriteria:
  expectedTools:
    - toolName: system_search
      shouldBeCalled: true
      argsContain:
        query: "programming"
  responseContains:
    - "programming"
  responseNotContains:
    - "I cannot"
    - "I don't have access"
    - "I'm unable"
    - "error"
    - "failed"
  minHelpfulnessScore: 3

efficiency:
  maxToolCalls: 3
  maxTokens: 25000
