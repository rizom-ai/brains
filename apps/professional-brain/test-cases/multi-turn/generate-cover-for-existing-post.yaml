id: social-media-generate-cover-for-existing
name: Generate cover image for previously created post
description: Tests that in a multi-turn conversation, the agent uses image_generate with targetEntityType when asked to add a cover image to a previously generated post
type: multi_turn
tags:
  - social-media
  - image
  - cover
  - multi-turn

turns:
  - userMessage: "Generate a LinkedIn post about the future of AI"
    successCriteria:
      expectedTools:
        - toolName: social-media_generate
          shouldBeCalled: true
  - userMessage: "Now add a cover image to that post by generating one with image_generate"
    successCriteria:
      expectedTools:
        - toolName: image_generate
          shouldBeCalled: true
          argsContain:
            targetEntityType: "social-post"

successCriteria: {}

efficiency:
  maxToolCalls: 6
  maxTokens: 50000
