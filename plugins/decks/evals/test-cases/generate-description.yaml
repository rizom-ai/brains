id: decks-generate-description
name: Generate description from deck content
description: Tests that AI generates a concise description from slide deck content
type: plugin
tags:
  - decks
  - description
  - core
plugin: decks
handler: generateDescription

input:
  title: "Building Resilient Systems"
  content: |
    # Building Resilient Systems

    ---

    ## What is Resilience?

    - Ability to recover from failures
    - Graceful degradation under load
    - Self-healing capabilities

    ---

    ## Key Patterns

    - Circuit breakers
    - Retry with exponential backoff
    - Bulkhead isolation

    ---

    ## Monitoring

    - Health checks
    - Distributed tracing
    - Alert thresholds

    ---

    ## Conclusion

    - Design for failure
    - Test failure scenarios
    - Monitor continuously

expectedOutput:
  hasFields:
    - description
  fieldValidation:
    - field: description
      minLength: 30
      maxLength: 200
  contentContains:
    - field: description
      patterns:
        - "[Rr]esilien|[Ss]ystem|[Ff]ailure|[Rr]ecover"
  qualityCriteria:
    minRelevanceScore: 4
    minAccuracyScore: 4
    minQualityScore: 4
    evaluationPrompt: |
      Evaluate the description against these style criteria:

      1. Should capture the CORE ARGUMENT, not just the topic
         - BAD: "An exploration of system resilience concepts"
         - GOOD: "Why designing for failure is the only way to build systems that don't fail"

      2. Should be direct and specific, avoiding vague marketing language
         - Avoid: "comprehensive", "exploration", "insights into"

      3. Should match the voice - if the deck is opinionated, the description should be too

      Score QUALITY based on how well the description captures the essence in a compelling way.
