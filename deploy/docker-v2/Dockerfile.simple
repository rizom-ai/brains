# Simple working Dockerfile - just run with Bun, no compilation
FROM oven/bun:1.2.13-debian

WORKDIR /app

# Copy everything
COPY . .

# Install dependencies
RUN bun install

# Build all packages
RUN bun run build

# Expose port
EXPOSE 3333

# Run the app directly - let it handle its own database setup
# Set JSX runtime for runtime execution
CMD ["bun", "run", "--jsx-import-source=preact", "apps/test-brain/brain.config.ts"]